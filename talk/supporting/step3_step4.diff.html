<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<!-- Created by htmlize-1.36 in css mode. -->
<html>
  <head>
    <title>step3_step4.diff</title>
    <style type="text/css">
    <!--
      body {
        color: #000000;
        background-color: #ffffff;
      }
      .diff-added {
        /* diff-added */
        background-color: #ddffdd;
      }
      .diff-context {
        /* diff-context */
        color: #7f7f7f;
      }
      .diff-file-header {
        /* diff-file-header */
        background-color: #b3b3b3;
        font-weight: bold;
      }
      .diff-header {
        /* diff-header */
        background-color: #cccccc;
      }
      .diff-hunk-header {
        /* diff-hunk-header */
        background-color: #cccccc;
      }
      .diff-indicator-added {
        /* diff-indicator-added */
        background-color: #ddffdd;
      }
      .diff-indicator-removed {
        /* diff-indicator-removed */
        background-color: #ffdddd;
      }
      .diff-removed {
        /* diff-removed */
        background-color: #ffdddd;
      }

      a {
        color: inherit;
        background-color: inherit;
        font: inherit;
        text-decoration: inherit;
      }
      a:hover {
        text-decoration: underline;
      }
    -->
    </style>
  </head>
  <body>
<h2>Unified diff: <tt>step3_trivial_mc</tt> <i>vs.</i> <tt>step4_pi</tt></h2>
    <pre>
<span class="diff-context">Files step3_trivial_mc/CMakeLists.txt and step4_pi/CMakeLists.txt are identical

diff -N -u -r -b -s step3_trivial_mc/main.cpp step4_pi/main.cpp
</span><span class="diff-header">--- </span><span class="diff-header"><span class="diff-file-header">step3_trivial_mc/main.cpp</span></span><span class="diff-header">   2016-06-15 14:36:21.094853744 -0400
+++ </span><span class="diff-header"><span class="diff-file-header">step4_pi/main.cpp</span></span><span class="diff-header">   2016-06-15 14:36:39.478852887 -0400
</span><span class="diff-hunk-header">@@ -28,10 +28,34 @@</span>
<span class="diff-context">     mysim.run(alps::stop_callback(std::size_t(p["timelimit"])));
 
     std::cout &lt;&lt; "Simulation finished"
</span><span class="diff-indicator-added">+</span><span class="diff-added">              &lt;&lt; std::endl
</span><span class="diff-indicator-added">+</span><span class="diff-added">              &lt;&lt; "Collecting results..."
</span><span class="diff-context">               &lt;&lt; std::endl;
</span><span class="diff-indicator-added">+</span><span class="diff-added">    
</span><span class="diff-indicator-added">+</span><span class="diff-added">    alps::accumulators::result_set results=mysim.collect_results();
</span><span class="diff-indicator-added">+</span><span class="diff-added">
</span><span class="diff-indicator-added">+</span><span class="diff-added">    // Print all results:
</span><span class="diff-indicator-added">+</span><span class="diff-added">    std::cout &lt;&lt; "All results:\n" &lt;&lt; results &lt;&lt; std::endl;
</span><span class="diff-indicator-added">+</span><span class="diff-added">
</span><span class="diff-indicator-added">+</span><span class="diff-added">    // Access individual results:
</span><span class="diff-indicator-added">+</span><span class="diff-added">    const alps::accumulators::result_wrapper&amp; obj=results["objective"];
</span><span class="diff-context">     std::cout &lt;&lt; "Simulation ran for "
</span><span class="diff-indicator-removed">-</span><span class="diff-removed">              &lt;&lt; mysim.count()
</span><span class="diff-indicator-added">+</span><span class="diff-added">              &lt;&lt; obj.count()
</span><span class="diff-context">               &lt;&lt; " steps." &lt;&lt; std::endl;
 
</span><span class="diff-indicator-added">+</span><span class="diff-added">    // should get $\pi$:
</span><span class="diff-indicator-added">+</span><span class="diff-added">    const alps::accumulators::result_wrapper&amp; pi_res=obj*4.;
</span><span class="diff-indicator-added">+</span><span class="diff-added">
</span><span class="diff-indicator-added">+</span><span class="diff-added">    std::cout &lt;&lt; "Mean: " &lt;&lt; pi_res.mean&lt;double&gt;() &lt;&lt; std::endl;
</span><span class="diff-indicator-added">+</span><span class="diff-added">    std::cout &lt;&lt; "Error: " &lt;&lt; pi_res.error&lt;double&gt;() &lt;&lt; std::endl;
</span><span class="diff-indicator-added">+</span><span class="diff-added">    std::cout &lt;&lt; "Range: "
</span><span class="diff-indicator-added">+</span><span class="diff-added">              &lt;&lt; pi_res.mean&lt;double&gt;()-pi_res.error&lt;double&gt;()
</span><span class="diff-indicator-added">+</span><span class="diff-added">              &lt;&lt; " ... "
</span><span class="diff-indicator-added">+</span><span class="diff-added">              &lt;&lt; pi_res.mean&lt;double&gt;()+pi_res.error&lt;double&gt;()
</span><span class="diff-indicator-added">+</span><span class="diff-added">              &lt;&lt; std::endl;
</span><span class="diff-indicator-added">+</span><span class="diff-added">    std::cout &lt;&lt; "Autocorrelation length: "
</span><span class="diff-indicator-added">+</span><span class="diff-added">              &lt;&lt; pi_res.autocorrelation&lt;double&gt;()
</span><span class="diff-indicator-added">+</span><span class="diff-added">              &lt;&lt; std::endl;
</span><span class="diff-indicator-added">+</span><span class="diff-added">
</span><span class="diff-context">     return 0;
 }
<br>
diff -N -u -r -b -s step3_trivial_mc/simulation.cpp step4_pi/simulation.cpp
</span><span class="diff-header">--- </span><span class="diff-header"><span class="diff-file-header">step3_trivial_mc/simulation.cpp</span></span><span class="diff-header">     2016-06-15 12:00:13.967290368 -0400
+++ </span><span class="diff-header"><span class="diff-file-header">step4_pi/simulation.cpp</span></span><span class="diff-header">     2016-06-15 12:31:08.191203939 -0400
</span><span class="diff-context">Files differ
<p>
<p>
<p>
<p>
<p>
diff -N -u -r -b -s step3_trivial_mc/simulation.hpp step4_pi/simulation.hpp
</span><span class="diff-header">--- </span><span class="diff-header"><span class="diff-file-header">step3_trivial_mc/simulation.hpp</span></span><span class="diff-header">     2016-06-15 12:07:16.203270687 -0400
+++ </span><span class="diff-header"><span class="diff-file-header">step4_pi/simulation.hpp</span></span><span class="diff-header">     2016-06-15 12:27:23.359214419 -0400
</span><span class="diff-hunk-header">@@ -1,14 +1,25 @@</span>
<span class="diff-context"> #pragma once
 
 #include &lt;alps/mc/mcbase.hpp&gt;
</span><span class="diff-indicator-added">+</span><span class="diff-added">#include &lt;alps/accumulators.hpp&gt;
</span><span class="diff-context"> 
 class MySimulation : public alps::mcbase {
   private:
</span><span class="diff-indicator-removed">-</span><span class="diff-removed">    int istep_;
</span><span class="diff-indicator-removed">-</span><span class="diff-removed">    int maxcount_;
</span><span class="diff-indicator-removed">-</span><span class="diff-removed">    bool verbose_;
</span><span class="diff-indicator-added">+</span><span class="diff-added">    long burnin_;
</span><span class="diff-indicator-added">+</span><span class="diff-added">    long maxcount_;
</span><span class="diff-indicator-added">+</span><span class="diff-added">    double stepsize_;
</span><span class="diff-indicator-added">+</span><span class="diff-added">    
</span><span class="diff-indicator-added">+</span><span class="diff-added">    long istep_;
</span><span class="diff-indicator-added">+</span><span class="diff-added">    double x_,y_;
</span><span class="diff-context"> 
   public:
</span><span class="diff-indicator-added">+</span><span class="diff-added">    // These we need for the simulation.
</span><span class="diff-indicator-added">+</span><span class="diff-added">    static bool is_inside_area(double x, double y);
</span><span class="diff-indicator-added">+</span><span class="diff-added">    static double objective_function(double x, double y);
</span><span class="diff-indicator-added">+</span><span class="diff-added">
</span><span class="diff-indicator-added">+</span><span class="diff-added">    // Accumulator type to collect observables.
</span><span class="diff-indicator-added">+</span><span class="diff-added">    typedef alps::accumulators::FullBinningAccumulator&lt;double&gt; my_accumulator_type;
</span><span class="diff-indicator-added">+</span><span class="diff-added">    
</span><span class="diff-context">     MySimulation(const parameters_type&amp; params, std::size_t seed_offset=0);
 
     void update();
</span><span class="diff-hunk-header">@@ -16,6 +27,4 @@</span>
<span class="diff-context">     double fraction_completed() const;
 
     static parameters_type&amp; define_parameters(parameters_type&amp;);        
</span><span class="diff-indicator-removed">-</span><span class="diff-removed">
</span><span class="diff-indicator-removed">-</span><span class="diff-removed">    int count() { return istep_; }
</span><span class="diff-context"> };
</span></pre>
  </body>
</html>
